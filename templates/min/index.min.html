<!DOCTYPE html><html lang=it><head><meta charset=UTF-8><title>TuttoCarte.it</title><meta name=theme-color content=#1f2324><link rel=manifest href=/app.webmanifest><link rel=icon href=../static/assets/favicon.png><link rel=stylesheet href=../static/css/min/index.min.css><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Gioca con i tuoi amici a qualsiasi gioco di carte senza la necessitÃ  di avere un mazzo a portata di mano!"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Outfit&display=swap"><script src=https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js></script><script src=https://cdn.jsdelivr.net/npm/jquery-ui@1.13.2/dist/jquery-ui.min.js></script><script src=https://cdn.jsdelivr.net/npm/jquery-ui-touch-punch@0.2.3/jquery.ui.touch-punch.min.js></script><script src=https://cdn.jsdelivr.net/npm/socket.io@4.7.2/client-dist/socket.io.min.js></script><script>"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js")</script></head><body>{% if host == True %}<section id=play><div><h1>TuttoCarte.it</h1><h5>FAI SCANNERIZZARE IL QR CODE</h5><img id=qrcode src="https://api.qrserver.com/v1/create-qr-code/?data=TuttoCarte.it/{{room}}" alt=qrcode><h5 id=copy>O CLICCALO PER COPIARE IL LINK</h5><button id=group>INIZIAMO!</button><div id=separator><hr><h6>OPPURE</h6><hr></div><button id=alone>SOLITARIO</button></div></section><section id=table><div class=deck>{% for card in ita_deck %} <img id={{card}} class="ita card" src=../static/assets/backs/ita.jpg alt=card> {% endfor %}</div><div class=deck>{% for card in fr1_deck %} <img id={{card}} class="fr1 card" src=../static/assets/backs/fr1.jpg alt=card> {% endfor %}</div><div class=deck>{% for card in fr2_deck %} <img id={{card}} class="fr2 card" src=../static/assets/backs/fr2.jpg alt=card> {% endfor %}</div><img id=fiche1 class="fiche clonable" src=../static/assets/fiches/fiche1.png alt=fiche> <img id=fiche2 class="fiche clonable" src=../static/assets/fiches/fiche2.png alt=fiche> <img id=fiche3 class="fiche clonable" src=../static/assets/fiches/fiche3.png alt=fiche> <img id=dealer class=fiche src=../static/assets/fiches/dealer.png alt=fiche></section>{% else %}<section id=table></section>{% endif %}<section id=hand><h3>MANO</h3><div></div></section><section><textarea id=chat placeholder="Chat di gruppo"></textarea><textarea id=note placeholder="Note personali"></textarea></section><script type=text/javascript>$(document).ready(function(){var t=!1;const n="{{room}}",a=io({transport:["websocket"]});a.on("connect",function(){a.emit("join",{room:n})}),a.on("play",function(t){$("#table").html(t.table)}),a.on("move",function(t){}),a.on("chat",function(t){$("#chat").val(t.chat)}),$("#qrcode").click(function(){navigator.clipboard.writeText("TuttoCarte.it/"+n),$("#copy").text("COPIATO").delay(2e3).text("O CLICCALO PER COPIARE IL LINK")}),$("#group").click(function(){$("#play").remove(),a.emit("play",{room:n,table:$("#table").html()})}),$("#alone").click(function(){$("#play").remove(),$("#chat").remove()}),$("#table").on("touchstart",".card",function(){$(this).draggable()}),$("#table").on("mouseenter",".card",function(){$(this).draggable()}),$("#table").on("touchstart",".fiche",function(){$(this).draggable({helper:function(){return $(this).hasClass("clonable")?$(this).clone().removeClass("clonable"):$(this)}})}),$("#table").on("mouseenter",".fiche",function(){$(this).draggable({helper:function(){return $(this).hasClass("clonable")?$(this).clone().removeClass("clonable"):$(this)}})}),$("#table").droppable({drop:function(){a.emit("move",{room:n,card:$(this).html()})}}),$(document).on("click",".card",function(){var o;o=$(this),event.ctrlKey||!0===t?a.emit("hand",{room:n,card:$("#card").html()}):(a.emit("turn",{room:n,card:o.attr("id")}),a.on("turn",function(t){$class=o[0].classList[0],o.attr("src").startsWith("static/assets/backs/")?o.attr("src",`static/assets/decks/${$class}/`+t.value):o.attr("src",`static/assets/backs/${$class}.jpg`)}))}),$("#hand").on("touchstart","h3",function(){t=!0}),$("#hand").on("touchend","h3",function(){t=!1}),$("#chat").click(function(){$("#note").hide()}),$("#chat").blur(function(){$("#note").show(),a.emit("chat",{room:n,chat:$("#chat").val()})}),$("#note").click(function(){$("#chat").hide()}),$("#note").blur(function(){$("#chat").show()}),$(window).on("orientationchange",function(){0===window.orientation||180===window.orientation?$("#play > div").css("transform",""):$("#play > div").css("transform","scale(0.55)")})})</script></body></html>