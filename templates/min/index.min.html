<!DOCTYPE html><html lang=it><head><meta charset=UTF-8><title>TuttoCarte.it</title><meta name=theme-color content=#1f2324><link rel=icon href=../static/assets/favicon.png><link rel=stylesheet href=../static/css/min/index.min.css><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Gioca con i tuo amici a qualsiasi gioco di carte senza la necessitÃ  di avere un mazzo di carte a portata di mano!"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Alata&family=Outfit&display=swap"><script src=https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js></script><script src=https://cdn.jsdelivr.net/npm/jquery-ui@1.13.2/dist/jquery-ui.min.js></script><script src=https://cdn.jsdelivr.net/npm/jquery-ui-touch-punch@0.2.3/jquery.ui.touch-punch.min.js></script><script src=https://cdn.jsdelivr.net/npm/socket.io@4.7.2/client-dist/socket.io.min.js></script></head><body>{% if dealer == True %}<section id=start><div id=overlay><h1>TuttoCarte.it</h1><h5>FAI SCANNERIZZARE IL QR CODE</h5><img id=qrcode src="https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=TuttoCarte.it/{{room}}" alt=qrcode><h5 id=copy>O CLICCALO PER COPIARE IL LINK</h5><button>INIZIAMO!</button><div id=separator><hr><h6>OPPURE</h6><hr></div><button>SOLITARIO</button></div></section>{% endif %}<section id=table></section><section id=hand><h3>MANO</h3><div></div></section><section id=notes><textarea id=public_notes placeholder="Note condivise"></textarea><textarea placeholder="Note personali"></textarea></section><script type=text/javascript>$(document).ready(function(){const e="{{room}}";var c=io({transport:["websocket"]});function s(t){var s;event.ctrlKey||"hand"===event.target.id?t.prependTo("#hand div").css({position:"",top:"",left:""}):(s=t.attr("src")).endsWith("retro.jpg")?s.startsWith("static/assets/decks/it/")?t.attr("src",`static/assets/decks/it/${t.attr("id")}.jpg`):s.startsWith("static/assets/decks/fr/")&&t.attr("src",`static/assets/decks/fr/${t.attr("id")}.jpg`):s.startsWith("static/assets/decks/it/")?t.attr("src","static/assets/decks/it/retro.jpg"):s.startsWith("static/assets/decks/fr/")&&t.attr("src","static/assets/decks/fr/retro.jpg"),c.emit("table",{room:e,html:$("#table").html()})}c.on("connect",function(){c.emit("join",{room:e})}),c.on("table",function(t){$("#table").html(t.html)}),c.on("notes",function(t){$("#public_notes").val(t.notes)}),$("#qrcode").click(function(){navigator.clipboard.writeText("TuttoCarte.it/"+e),$("#copy").text("COPIATO"),setTimeout(function(){$("#copy").text("O CLICCALO PER COPIARE IL LINK")},2e3)}),$("#start button").click(function(){$("#start").remove(),c.emit("table",{room:e,html:'<img class = "card" src = "static/assets/decks/it/retro.jpg" alt = "card"><img class = "card" src = "static/assets/decks/fr/retro.jpg" alt = "card">'})}),$(document).on("touchstart",".card",function(){$(this).draggable()}),$(document).on("mouseenter",".card",function(){(card=$(this)).draggable({start:function(t,s){card.css("cursor","grabbing")}})}),$("#table").droppable({accept:".drag",drop:function(t,s){s.helper.prependTo("#table").css({cursor:"grab",position:"absolute"}),c.emit("table",{room:e,html:$("#table").html()})}}),$("#table").on("click",".card",function(t){s($(this))}),$("#hand").on("click",".card",function(t){s($(this))}),$("#public_notes").on("blur",function(){c.emit("notes",{room:e,notes:$("#public_notes").val()})})})</script></body></html>